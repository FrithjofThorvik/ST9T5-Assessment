{"ast":null,"code":"import _slicedToArray from\"C:/Users/frith/Google Drive/Dev/assessment-sfm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from\"react\";import{useStateValue}from\"./StateProvider\";import{useHistory}from\"react-router-dom\";import axios from\"axios\";import\"../css/Answer.css\";function Answer(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],questionNum=_useStateValue2$.questionNum,test=_useStateValue2$.test,answers=_useStateValue2$.answers,recommended=_useStateValue2$.recommended,submit=_useStateValue2$.submit,contactId=_useStateValue2$.contactId,dispatch=_useStateValue2[1];var history=useHistory();var handleMultiAnswer=function handleMultiAnswer(array,i){if(array[i]===0){array[i]=1;}else{array[i]=0;}return array;};var handleEmptyArray=function handleEmptyArray(){var array=[];for(var i=0;i<test.answers[questionNum-1].options.length;i++){array.push(0);}return array;};var handleSubmit=function handleSubmit(){dispatch({type:\"SUBMIT\"});// Change Post URL\nif(contactId){if(sessionStorage.getItem(\"sessionContactId\")){if(sessionStorage.getItem(\"sessionTest\")){axios.post(\"https://scrapthe9to5.com/scripts/IS/ISVaultAssessment.php?assessment=\".concat(sessionStorage.getItem(\"sessionTest\")),{contactId:sessionStorage.getItem(\"sessionContactId\"),recommended:recommended,answers:answers}).then(function(res){console.log(res);});}else{console.log(\"Session test was not recorded...\");}}else{console.log(\"Session contactId was not recorded...\");}}else{console.log(\"Session contactId was not stored...\");}history.push(\"/result\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"answer\",children:[!submit?/*#__PURE__*/_jsx(\"div\",{className:\"answer-container\",children:test.answers[questionNum-1].options.map(function(option,i){var _answers;return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){// Single Answer Questions\nif(test.answers[questionNum-1].select===\"single\"){dispatch({type:\"ANSWER\",answer:i+1});dispatch({type:\"NEXT_QUESTION\"});}// Multi Answer Questions\nelse if(test.answers[questionNum-1].select===\"multi\"){var array=answers[questionNum-1];// Handle Empty Multi Answer Array\nif(!array){array=handleEmptyArray();}// Handle Multi Answer Array\narray=handleMultiAnswer(array,i);// Apply New Answer Array to DataLayer\ndispatch({type:\"ANSWER\",answer:array});}},className:\"\".concat(test.answers[questionNum-1].select===\"multi\"?\"answer-optionMulti\":\"answer-optionSingle\",\"\\n              \").concat(((_answers=answers[questionNum-1])===null||_answers===void 0?void 0:_answers.length)>1?answers[questionNum-1][i]===1?\"answer--selected\":\"\":answers[questionNum-1]===i+1?\"answer--selected\":\"\",\"\\n              \"),children:option},i);})}):null,submit?/*#__PURE__*/_jsx(\"div\",{className:\"answer-submit\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return handleSubmit();},className:\"answer-submitButton\",children:\"Submit Answers\"})}):null]});}export default Answer;","map":{"version":3,"sources":["C:/Users/frith/Google Drive/Dev/assessment-sfm/src/components/Answer.js"],"names":["React","useStateValue","useHistory","axios","Answer","questionNum","test","answers","recommended","submit","contactId","dispatch","history","handleMultiAnswer","array","i","handleEmptyArray","options","length","push","handleSubmit","type","sessionStorage","getItem","post","then","res","console","log","map","option","select","answer"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"../css/Answer.css\";\r\n\r\nfunction Answer() {\r\n  const [\r\n    { questionNum, test, answers, recommended, submit, contactId },\r\n    dispatch,\r\n  ] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const handleMultiAnswer = (array, i) => {\r\n    if (array[i] === 0) {\r\n      array[i] = 1;\r\n    } else {\r\n      array[i] = 0;\r\n    }\r\n\r\n    return array;\r\n  };\r\n\r\n  const handleEmptyArray = () => {\r\n    let array = [];\r\n    for (let i = 0; i < test.answers[questionNum - 1].options.length; i++) {\r\n      array.push(0);\r\n    }\r\n    return array;\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    dispatch({ type: \"SUBMIT\" });\r\n\r\n    // Change Post URL\r\n    if (contactId) {\r\n      if (sessionStorage.getItem(\"sessionContactId\")) {\r\n        if (sessionStorage.getItem(\"sessionTest\")) {\r\n          axios\r\n            .post(\r\n              `https://scrapthe9to5.com/scripts/IS/ISVaultAssessment.php?assessment=${sessionStorage.getItem(\r\n                \"sessionTest\"\r\n              )}`,\r\n              {\r\n                contactId: sessionStorage.getItem(\"sessionContactId\"),\r\n                recommended: recommended,\r\n                answers: answers,\r\n              }\r\n            )\r\n            .then((res) => {\r\n              console.log(res);\r\n            });\r\n        } else {\r\n          console.log(\"Session test was not recorded...\");\r\n        }\r\n      } else {\r\n        console.log(\"Session contactId was not recorded...\");\r\n      }\r\n    } else {\r\n      console.log(\"Session contactId was not stored...\");\r\n    }\r\n    history.push(\"/result\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"answer\">\r\n      {!submit ? (\r\n        <div className=\"answer-container\">\r\n          {test.answers[questionNum - 1].options.map((option, i) => (\r\n            <div\r\n              key={i}\r\n              onClick={() => {\r\n                // Single Answer Questions\r\n                if (test.answers[questionNum - 1].select === \"single\") {\r\n                  dispatch({ type: \"ANSWER\", answer: i + 1 });\r\n                  dispatch({ type: \"NEXT_QUESTION\" });\r\n                }\r\n\r\n                // Multi Answer Questions\r\n                else if (test.answers[questionNum - 1].select === \"multi\") {\r\n                  let array = answers[questionNum - 1];\r\n\r\n                  // Handle Empty Multi Answer Array\r\n                  if (!array) {\r\n                    array = handleEmptyArray();\r\n                  }\r\n\r\n                  // Handle Multi Answer Array\r\n                  array = handleMultiAnswer(array, i);\r\n\r\n                  // Apply New Answer Array to DataLayer\r\n                  dispatch({\r\n                    type: \"ANSWER\",\r\n                    answer: array,\r\n                  });\r\n                }\r\n              }}\r\n              className={`${\r\n                test.answers[questionNum - 1].select === \"multi\"\r\n                  ? \"answer-optionMulti\"\r\n                  : \"answer-optionSingle\"\r\n              }\r\n              ${\r\n                answers[questionNum - 1]?.length > 1\r\n                  ? answers[questionNum - 1][i] === 1\r\n                    ? \"answer--selected\"\r\n                    : \"\"\r\n                  : answers[questionNum - 1] === i + 1\r\n                  ? \"answer--selected\"\r\n                  : \"\"\r\n              }\r\n              `}\r\n            >\r\n              {option}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {submit ? (\r\n        <div className=\"answer-submit\">\r\n          <div onClick={() => handleSubmit()} className=\"answer-submitButton\">\r\n            Submit Answers\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Answer;\r\n"]},"metadata":{},"sourceType":"module"}