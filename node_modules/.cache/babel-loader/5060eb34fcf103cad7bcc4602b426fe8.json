{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\frith\\\\Google Drive\\\\Dev\\\\assessment-sfm\\\\src\\\\components\\\\Answer.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useStateValue } from \"./StateProvider\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../css/Answer.css\";\n\nfunction Answer() {\n  _s();\n\n  const [{\n    questionNum,\n    test,\n    answers,\n    submit,\n    contactId\n  }, dispatch] = useStateValue();\n  const history = useHistory();\n\n  const handleMultiAnswer = (array, i) => {\n    if (!array) {\n      array = [0, 0, 0, 0, 0, 0];\n    }\n\n    if (array[i] === 0) {\n      array[i] = 1;\n    } else {\n      array[i] = 0;\n    }\n\n    return array;\n  };\n\n  const handleSubmit = () => {\n    dispatch({\n      type: \"SUBMIT\"\n    }); // Add ...php?assessment=sfm-member\n\n    if (contactId) {\n      if (sessionStorage.getItem(\"sessionContactId\")) {\n        axios.post(\"http://localhost/scrapthe9to5.com/scripts/IS/ISVaultAssessment.php\", {\n          contactId: sessionStorage.getItem(\"sessionContactId\"),\n          answers: answers\n        }).then(res => {\n          console.log(res);\n        });\n      }\n    }\n\n    history.push(\"/result\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"answer\",\n    children: [!submit ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-container\",\n      children: test.answers[questionNum - 1].options.map((option, i) => {\n        var _answers;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: e => {\n            if (test.answers[questionNum - 1].select === \"single\") {\n              dispatch({\n                type: \"ANSWER\",\n                answer: i + 1\n              });\n              dispatch({\n                type: \"NEXT_QUESTION\"\n              });\n            } else if (test.answers[questionNum - 1].select === \"multi\") {\n              // dispatch({ type: \"ANSWER_MULTI\", answer: i + 1 });\n              answers[questionNum - 1] = handleMultiAnswer(answers[questionNum - 1], i);\n              console.log(answers[questionNum - 1]);\n            }\n          },\n          className: `answer-option\n              ${answers[questionNum - 1] === i + 1 ? \"answer--selected\" : ((_answers = answers[questionNum - 1]) === null || _answers === void 0 ? void 0 : _answers.length) > 1 ? answers[questionNum - 1][i] === 1 ? \"answer--selected\" : \"\" : \"\"}`,\n          children: option\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : null, submit ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-submit\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleSubmit(),\n        className: \"answer-submitButton\",\n        children: \"Submit Answers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Answer, \"wlHyVlL/Ifv5MsXmDE7U2eP8a5s=\", false, function () {\n  return [useStateValue, useHistory];\n});\n\n_c = Answer;\nexport default Answer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Answer\");","map":{"version":3,"sources":["C:/Users/frith/Google Drive/Dev/assessment-sfm/src/components/Answer.js"],"names":["React","useStateValue","useHistory","axios","Answer","questionNum","test","answers","submit","contactId","dispatch","history","handleMultiAnswer","array","i","handleSubmit","type","sessionStorage","getItem","post","then","res","console","log","push","options","map","option","e","select","answer","length"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"../css/Answer.css\";\r\n\r\nfunction Answer() {\r\n  const [\r\n    { questionNum, test, answers, submit, contactId },\r\n    dispatch,\r\n  ] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const handleMultiAnswer = (array, i) => {\r\n    if (!array) {\r\n      array = [0, 0, 0, 0, 0, 0];\r\n    }\r\n    if (array[i] === 0) {\r\n      array[i] = 1;\r\n    } else {\r\n      array[i] = 0;\r\n    }\r\n\r\n    return array;\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    dispatch({ type: \"SUBMIT\" });\r\n\r\n    // Add ...php?assessment=sfm-member\r\n    if (contactId) {\r\n      if (sessionStorage.getItem(\"sessionContactId\")) {\r\n        axios\r\n          .post(\r\n            \"http://localhost/scrapthe9to5.com/scripts/IS/ISVaultAssessment.php\",\r\n            {\r\n              contactId: sessionStorage.getItem(\"sessionContactId\"),\r\n              answers: answers,\r\n            }\r\n          )\r\n          .then((res) => {\r\n            console.log(res);\r\n          });\r\n      }\r\n    }\r\n    history.push(\"/result\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"answer\">\r\n      {!submit ? (\r\n        <div className=\"answer-container\">\r\n          {test.answers[questionNum - 1].options.map((option, i) => (\r\n            <div\r\n              key={i}\r\n              onClick={(e) => {\r\n                if (test.answers[questionNum - 1].select === \"single\") {\r\n                  dispatch({ type: \"ANSWER\", answer: i + 1 });\r\n                  dispatch({ type: \"NEXT_QUESTION\" });\r\n                } else if (test.answers[questionNum - 1].select === \"multi\") {\r\n                  // dispatch({ type: \"ANSWER_MULTI\", answer: i + 1 });\r\n                  answers[questionNum - 1] = handleMultiAnswer(\r\n                    answers[questionNum - 1],\r\n                    i\r\n                  );\r\n                  console.log(answers[questionNum - 1]);\r\n                }\r\n              }}\r\n              className={`answer-option\r\n              ${\r\n                answers[questionNum - 1] === i + 1\r\n                  ? \"answer--selected\"\r\n                  : answers[questionNum - 1]?.length > 1\r\n                  ? answers[questionNum - 1][i] === 1\r\n                    ? \"answer--selected\"\r\n                    : \"\"\r\n                  : \"\"\r\n              }`}\r\n            >\r\n              {option}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {submit ? (\r\n        <div className=\"answer-submit\">\r\n          <div onClick={() => handleSubmit()} className=\"answer-submitButton\">\r\n            Submit Answers\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Answer;\r\n"]},"metadata":{},"sourceType":"module"}