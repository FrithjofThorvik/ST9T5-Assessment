{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\frith\\\\Google Drive\\\\Dev\\\\assessment-sfm\\\\src\\\\components\\\\Answer.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useStateValue } from \"./StateProvider\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../css/Answer.css\";\n\nfunction Answer() {\n  _s();\n\n  const [{\n    questionNum,\n    test,\n    answers,\n    submit,\n    contactId\n  }, dispatch] = useStateValue();\n  const history = useHistory();\n\n  const handleMultiAnswer = (array, i) => {\n    if (!array) {\n      array = [0, 0, 0, 0, 0, 0];\n    }\n\n    if (array[i] === 0) {\n      array[i] = 1;\n    } else {\n      array[i] = 0;\n    }\n\n    return array;\n  };\n\n  const handleEmptyArray = () => {\n    let array = [];\n\n    for (let i = 0; i < test.answers[questionNum - 1].options.length; i++) {\n      array.push(0);\n    }\n\n    return array;\n  };\n\n  const handleSubmit = () => {\n    dispatch({\n      type: \"SUBMIT\"\n    }); // Add ...php?assessment=sfm-member\n\n    if (contactId) {\n      if (sessionStorage.getItem(\"sessionContactId\")) {\n        axios.post(\"http://localhost/scrapthe9to5.com/scripts/IS/ISVaultAssessment.php\", {\n          contactId: sessionStorage.getItem(\"sessionContactId\"),\n          answers: answers\n        }).then(res => {\n          console.log(res);\n        });\n      }\n    }\n\n    history.push(\"/result\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"answer\",\n    children: [!submit ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-container\",\n      children: test.answers[questionNum - 1].options.map((option, i) => {\n        var _answers;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          onload: () => {\n            let array = answers[questionNum - 1]; // Handle Empty Multi Answer Array\n\n            if (!array) {\n              array = handleEmptyArray();\n              dispatch({\n                type: \"ANSWER\",\n                answer: array\n              });\n            }\n          },\n          onClick: () => {\n            if (test.answers[questionNum - 1].select === \"single\") {\n              dispatch({\n                type: \"ANSWER\",\n                answer: i + 1\n              });\n              dispatch({\n                type: \"NEXT_QUESTION\"\n              });\n            } else if (test.answers[questionNum - 1].select === \"multi\") {\n              let array = answers[questionNum - 1]; // Handle Multi Answer Array\n\n              if (array[i] === 0) {\n                array[i] = 1;\n              } else {\n                array[i] = 0;\n              } // Apply New Answer Array to DataLayer\n\n\n              dispatch({\n                type: \"ANSWER\",\n                answer: array\n              });\n            }\n          },\n          className: `${test.answers[questionNum - 1].select === \"multi\" ? \"answer-optionMulti\" : \"answer-optionSingle\"}\n              ${((_answers = answers[questionNum - 1]) === null || _answers === void 0 ? void 0 : _answers.length) > 1 ? answers[questionNum - 1][i] === 1 ? \"answer--selected\" : \"\" : answers[questionNum - 1] === i + 1 ? \"answer--selected\" : \"\"}\n              `,\n          children: option\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this) : null, submit ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-submit\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleSubmit(),\n        className: \"answer-submitButton\",\n        children: \"Submit Answers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Answer, \"wlHyVlL/Ifv5MsXmDE7U2eP8a5s=\", false, function () {\n  return [useStateValue, useHistory];\n});\n\n_c = Answer;\nexport default Answer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Answer\");","map":{"version":3,"sources":["C:/Users/frith/Google Drive/Dev/assessment-sfm/src/components/Answer.js"],"names":["React","useStateValue","useHistory","axios","Answer","questionNum","test","answers","submit","contactId","dispatch","history","handleMultiAnswer","array","i","handleEmptyArray","options","length","push","handleSubmit","type","sessionStorage","getItem","post","then","res","console","log","map","option","answer","select"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"../css/Answer.css\";\r\n\r\nfunction Answer() {\r\n  const [\r\n    { questionNum, test, answers, submit, contactId },\r\n    dispatch,\r\n  ] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const handleMultiAnswer = (array, i) => {\r\n    if (!array) {\r\n      array = [0, 0, 0, 0, 0, 0];\r\n    }\r\n    if (array[i] === 0) {\r\n      array[i] = 1;\r\n    } else {\r\n      array[i] = 0;\r\n    }\r\n\r\n    return array;\r\n  };\r\n\r\n  const handleEmptyArray = () => {\r\n    let array = [];\r\n    for (let i = 0; i < test.answers[questionNum - 1].options.length; i++) {\r\n      array.push(0);\r\n    }\r\n    return array;\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    dispatch({ type: \"SUBMIT\" });\r\n\r\n    // Add ...php?assessment=sfm-member\r\n    if (contactId) {\r\n      if (sessionStorage.getItem(\"sessionContactId\")) {\r\n        axios\r\n          .post(\r\n            \"http://localhost/scrapthe9to5.com/scripts/IS/ISVaultAssessment.php\",\r\n            {\r\n              contactId: sessionStorage.getItem(\"sessionContactId\"),\r\n              answers: answers,\r\n            }\r\n          )\r\n          .then((res) => {\r\n            console.log(res);\r\n          });\r\n      }\r\n    }\r\n    history.push(\"/result\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"answer\">\r\n      {!submit ? (\r\n        <div className=\"answer-container\">\r\n          {test.answers[questionNum - 1].options.map((option, i) => (\r\n            <div\r\n              key={i}\r\n              onload={() => {\r\n                let array = answers[questionNum - 1];\r\n\r\n                // Handle Empty Multi Answer Array\r\n                if (!array) {\r\n                  array = handleEmptyArray();\r\n                  dispatch({\r\n                    type: \"ANSWER\",\r\n                    answer: array,\r\n                  });\r\n                }\r\n              }}\r\n              onClick={() => {\r\n                if (test.answers[questionNum - 1].select === \"single\") {\r\n                  dispatch({ type: \"ANSWER\", answer: i + 1 });\r\n                  dispatch({ type: \"NEXT_QUESTION\" });\r\n                } else if (test.answers[questionNum - 1].select === \"multi\") {\r\n                  let array = answers[questionNum - 1];\r\n\r\n                  // Handle Multi Answer Array\r\n                  if (array[i] === 0) {\r\n                    array[i] = 1;\r\n                  } else {\r\n                    array[i] = 0;\r\n                  }\r\n\r\n                  // Apply New Answer Array to DataLayer\r\n                  dispatch({\r\n                    type: \"ANSWER\",\r\n                    answer: array,\r\n                  });\r\n                }\r\n              }}\r\n              className={`${\r\n                test.answers[questionNum - 1].select === \"multi\"\r\n                  ? \"answer-optionMulti\"\r\n                  : \"answer-optionSingle\"\r\n              }\r\n              ${\r\n                answers[questionNum - 1]?.length > 1\r\n                  ? answers[questionNum - 1][i] === 1\r\n                    ? \"answer--selected\"\r\n                    : \"\"\r\n                  : answers[questionNum - 1] === i + 1\r\n                  ? \"answer--selected\"\r\n                  : \"\"\r\n              }\r\n              `}\r\n            >\r\n              {option}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {submit ? (\r\n        <div className=\"answer-submit\">\r\n          <div onClick={() => handleSubmit()} className=\"answer-submitButton\">\r\n            Submit Answers\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Answer;\r\n"]},"metadata":{},"sourceType":"module"}